{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-fae5bece\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"Car Brands\", -1 /* HOISTED */));\nconst _hoisted_2 = [\"onMousedown\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_hoisted_1, _createElementVNode(\"table\", null, [_createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.columns, (column, index) => {\n    return _openBlock(), _createElementBlock(\"th\", {\n      key: index,\n      style: _normalizeStyle({\n        width: column.width + 'px'\n      })\n    }, [_createElementVNode(\"div\", {\n      onMousedown: $event => $setup.startResize(index, $event)\n    }, _toDisplayString(column.name), 41 /* TEXT, PROPS, NEED_HYDRATION */, _hoisted_2)], 4 /* STYLE */);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.cars, (car, index) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: index\n    }, [_createElementVNode(\"td\", null, _toDisplayString(car.brand), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(car.model), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(car.price), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(car.store), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(car.phone), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])])]);\n}","map":{"version":3,"names":["_createElementVNode","_createElementBlock","_hoisted_1","_Fragment","_renderList","$setup","columns","column","index","key","style","_normalizeStyle","width","onMousedown","$event","startResize","name","_hoisted_2","cars","car","_toDisplayString","brand","model","price","store","phone"],"sources":["/Users/zeus_olimp/WORK/project-root/frontend/src/views/Home.vue"],"sourcesContent":["<template>\n  <div>\n    <h1>Car Brands</h1>\n    <table>\n      <thead>\n      <tr>\n        <th v-for=\"(column, index) in columns\" :key=\"index\" :style=\"{ width: column.width + 'px' }\">\n          <div @mousedown=\"startResize(index, $event)\">\n            {{ column.name }}\n          </div>\n        </th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr v-for=\"(car, index) in cars\" :key=\"index\">\n        <td>{{ car.brand }}</td>\n        <td>{{ car.model }}</td>\n        <td>{{ car.price }}</td>\n        <td>{{ car.store }}</td>\n        <td>{{ car.phone }}</td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport { reactive, ref, onMounted, onBeforeUnmount } from 'vue';\n\nexport default {\n  name: 'Home',\n  setup() {\n    const columns = reactive([\n      { name: 'Марка авто', width: 150 },\n      { name: 'Модель авто', width: 150 },\n      { name: 'Стоимость', width: 100 },\n      { name: 'Магазин', width: 150 },\n      { name: 'Номер телефона магазина', width: 200 },\n    ]);\n\n    const cars = ref([]);\n\n    const fetchCars = async () => {\n      try {\n        const response = await axios.get('/api/cars');\n        cars.value = response.data;\n      } catch (error) {\n        console.error('Не удалось получить данные об автомобилях', error);\n      }\n    };\n\n    let resizingColumnIndex = null;\n    let startX = 0;\n    let startWidth = 0;\n\n    const startResize = (index, event) => {\n      resizingColumnIndex = index;\n      startX = event.pageX;\n      startWidth = columns[index].width;\n      document.addEventListener('mousemove', resizeColumn);\n      document.addEventListener('mouseup', stopResize);\n    };\n\n    const resizeColumn = (event) => {\n      if (resizingColumnIndex !== null) {\n        const newWidth = startWidth + (event.pageX - startX);\n        columns[resizingColumnIndex].width = newWidth > 50 ? newWidth : 50; // Минимальная ширина 50px\n      }\n    };\n\n    const stopResize = () => {\n      document.removeEventListener('mousemove', resizeColumn);\n      document.removeEventListener('mouseup', stopResize);\n      resizingColumnIndex = null;\n    };\n\n    onMounted(() => {\n      fetchCars();\n      document.addEventListener('mouseup', stopResize);\n    });\n\n    onBeforeUnmount(() => {\n      document.removeEventListener('mouseup', stopResize);\n    });\n\n    return {\n      columns,\n      cars,\n      startResize,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\ntable {\n  width: 100%;\n  border-collapse: collapse;\n}\nth, td {\n  border: 1px solid black;\n  padding: 8px;\n  text-align: left;\n}\nth div {\n  cursor: col-resize;\n  display: inline-block;\n  width: 100%;\n}\n</style>\n"],"mappings":";;gEAEIA,mBAAA,CAAmB,YAAf,YAAU;mBAFlB;;uBACEC,mBAAA,CAsBM,cArBJC,UAAmB,EACnBF,mBAAA,CAmBQ,gBAlBNA,mBAAA,CAQQ,gBAPRA,mBAAA,CAMK,c,kBALHC,mBAAA,CAIKE,SAAA,QAVbC,WAAA,CAMsCC,MAAA,CAAAC,OAAO,EAN7C,CAMoBC,MAAM,EAAEC,KAAK;yBAAzBP,mBAAA,CAIK;MAJmCQ,GAAG,EAAED,KAAK;MAAGE,KAAK,EANlEC,eAAA;QAAAC,KAAA,EAM6EL,MAAM,CAACK,KAAK;MAAA;QAC/EZ,mBAAA,CAEM;MAFAa,WAAS,EAAAC,MAAA,IAAET,MAAA,CAAAU,WAAW,CAACP,KAAK,EAAEM,MAAM;wBACrCP,MAAM,CAACS,IAAI,yCAR1BC,UAAA,E;sCAaMjB,mBAAA,CAQQ,iB,kBAPRC,mBAAA,CAMKE,SAAA,QApBXC,WAAA,CAciCC,MAAA,CAAAa,IAAI,EAdrC,CAckBC,GAAG,EAAEX,KAAK;yBAAtBP,mBAAA,CAMK;MAN6BQ,GAAG,EAAED;IAAK,IAC1CR,mBAAA,CAAwB,YAAAoB,gBAAA,CAAjBD,GAAG,CAACE,KAAK,kBAChBrB,mBAAA,CAAwB,YAAAoB,gBAAA,CAAjBD,GAAG,CAACG,KAAK,kBAChBtB,mBAAA,CAAwB,YAAAoB,gBAAA,CAAjBD,GAAG,CAACI,KAAK,kBAChBvB,mBAAA,CAAwB,YAAAoB,gBAAA,CAAjBD,GAAG,CAACK,KAAK,kBAChBxB,mBAAA,CAAwB,YAAAoB,gBAAA,CAAjBD,GAAG,CAACM,KAAK,iB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}