{"ast":null,"code":"import axios from 'axios';\nimport { reactive, ref, onMounted, onBeforeUnmount } from 'vue';\nexport default {\n  name: 'Cars',\n  setup() {\n    const columns = reactive([{\n      name: 'Марка авто',\n      width: 150\n    }, {\n      name: 'Модель авто',\n      width: 150\n    }, {\n      name: 'Стоимость',\n      width: 100\n    }, {\n      name: 'Магазин',\n      width: 150\n    }, {\n      name: 'Номер телефона магазина',\n      width: 200\n    }]);\n    const cars = ref([]);\n    const newCar = reactive({\n      brand: '',\n      model: '',\n      price: 0,\n      store_id: 0\n    });\n    const fetchCars = async () => {\n      try {\n        const response = await axios.get('http://localhost:8085/api/cars');\n        cars.value = response.data;\n      } catch (error) {\n        console.error('Не удалось получить данные об автомобилях', error);\n      }\n    };\n    const addCar = async () => {\n      try {\n        const response = await axios.post('http://localhost:8585/api/cars', newCar);\n        console.log(response.data.message);\n        await fetchCars(); // обновите список автомобилей после добавления нового\n        Object.keys(newCar).forEach(key => newCar[key] = ''); // очистите форму\n      } catch (error) {\n        console.error('Не удалось добавить автомобиль', error);\n      }\n    };\n    let resizingColumnIndex = null;\n    let startX = 0;\n    let startWidth = 0;\n    const startResize = (index, event) => {\n      resizingColumnIndex = index;\n      startX = event.pageX;\n      startWidth = columns[index].width;\n      document.addEventListener('mousemove', resizeColumn);\n      document.addEventListener('mouseup', stopResize);\n    };\n    const resizeColumn = event => {\n      if (resizingColumnIndex !== null) {\n        const newWidth = startWidth + (event.pageX - startX);\n        columns[resizingColumnIndex].width = newWidth > 50 ? newWidth : 50; // Минимальная ширина 50px\n      }\n    };\n    const stopResize = () => {\n      document.removeEventListener('mousemove', resizeColumn);\n      document.removeEventListener('mouseup', stopResize);\n      resizingColumnIndex = null;\n    };\n    onMounted(() => {\n      fetchCars();\n      document.addEventListener('mouseup', stopResize);\n    });\n    onBeforeUnmount(() => {\n      document.removeEventListener('mouseup', stopResize);\n    });\n    return {\n      columns,\n      cars,\n      newCar,\n      addCar,\n      startResize\n    };\n  }\n};","map":{"version":3,"names":["axios","reactive","ref","onMounted","onBeforeUnmount","name","setup","columns","width","cars","newCar","brand","model","price","store_id","fetchCars","response","get","value","data","error","console","addCar","post","log","message","Object","keys","forEach","key","resizingColumnIndex","startX","startWidth","startResize","index","event","pageX","document","addEventListener","resizeColumn","stopResize","newWidth","removeEventListener"],"sources":["/Users/zeus_olimp/WORK/project-root/frontend/src/views/Cars.vue"],"sourcesContent":["<template>\n  <div class=\"glass-container\">\n    <h1>Car Brands</h1>\n    <table class=\"glassmorphism\">\n      <thead>\n      <tr>\n        <th v-for=\"(column, index) in columns\" :key=\"index\" :style=\"{ width: column.width + 'px' }\">\n          <div @mousedown=\"startResize(index, $event)\">\n            {{ column.name }}\n          </div>\n        </th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr v-for=\"(car, index) in cars\" :key=\"index\">\n        <td>{{ car.brand }}</td>\n        <td>{{ car.model }}</td>\n        <td>{{ car.price }}</td>\n        <td>{{ car.store }}</td>\n        <td>{{ car.phone }}</td>\n      </tr>\n      </tbody>\n    </table>\n\n    <h2>Add a New Car</h2>\n    <form @submit.prevent=\"addCar\">\n      <div>\n        <label for=\"brand\">Brand:</label>\n        <input type=\"text\" id=\"brand\" v-model=\"newCar.brand\" required>\n      </div>\n      <div>\n        <label for=\"model\">Model:</label>\n        <input type=\"text\" id=\"model\" v-model=\"newCar.model\" required>\n      </div>\n      <div>\n        <label for=\"price\">Price:</label>\n        <input type=\"number\" id=\"price\" v-model=\"newCar.price\" required>\n      </div>\n      <div>\n        <label for=\"store\">Store ID:</label>\n        <input type=\"number\" id=\"store\" v-model=\"newCar.store_id\" required>\n      </div>\n      <button type=\"submit\">Add Car</button>\n    </form>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport { reactive, ref, onMounted, onBeforeUnmount } from 'vue';\n\nexport default {\n  name: 'Cars',\n  setup() {\n    const columns = reactive([\n      { name: 'Марка авто', width: 150 },\n      { name: 'Модель авто', width: 150 },\n      { name: 'Стоимость', width: 100 },\n      { name: 'Магазин', width: 150 },\n      { name: 'Номер телефона магазина', width: 200 },\n    ]);\n\n    const cars = ref([]);\n    const newCar = reactive({\n      brand: '',\n      model: '',\n      price: 0,\n      store_id: 0,\n    });\n\n    const fetchCars = async () => {\n      try {\n        const response = await axios.get('http://localhost:8085/api/cars');\n        cars.value = response.data;\n      } catch (error) {\n        console.error('Не удалось получить данные об автомобилях', error);\n      }\n    };\n\n    const addCar = async () => {\n      try {\n        const response = await axios.post('http://localhost:8585/api/cars', newCar);\n        console.log(response.data.message);\n        await fetchCars(); // обновите список автомобилей после добавления нового\n        Object.keys(newCar).forEach(key => newCar[key] = ''); // очистите форму\n      } catch (error) {\n        console.error('Не удалось добавить автомобиль', error);\n      }\n    };\n\n    let resizingColumnIndex = null;\n    let startX = 0;\n    let startWidth = 0;\n\n    const startResize = (index, event) => {\n      resizingColumnIndex = index;\n      startX = event.pageX;\n      startWidth = columns[index].width;\n      document.addEventListener('mousemove', resizeColumn);\n      document.addEventListener('mouseup', stopResize);\n    };\n\n    const resizeColumn = (event) => {\n      if (resizingColumnIndex !== null) {\n        const newWidth = startWidth + (event.pageX - startX);\n        columns[resizingColumnIndex].width = newWidth > 50 ? newWidth : 50; // Минимальная ширина 50px\n      }\n    };\n\n    const stopResize = () => {\n      document.removeEventListener('mousemove', resizeColumn);\n      document.removeEventListener('mouseup', stopResize);\n      resizingColumnIndex = null;\n    };\n\n    onMounted(() => {\n      fetchCars();\n      document.addEventListener('mouseup', stopResize);\n    });\n\n    onBeforeUnmount(() => {\n      document.removeEventListener('mouseup', stopResize);\n    });\n\n    return {\n      columns,\n      cars,\n      newCar,\n      addCar,\n      startResize,\n    };\n  },\n};\n</script>\n\n<style scoped>\n.glass-container {\n  margin: 10px;\n  background: rgba(210, 217, 217, 0.6);\n  border-radius: 10px;\n  padding: 20px;\n  backdrop-filter: blur(10px);\n  box-shadow: 0 4px 6px rgb(100, 96, 96);\n  border: 1px solid rgba(255, 255, 255, 0.3);\n}\n\ntable {\n  width: 100%;\n  border-collapse: collapse;\n  border-radius: 2%;\n}\n\nth, td {\n  border: 1px solid rgba(0, 0, 0, 0.43);\n  padding: 8px;\n  text-align: left;\n}\n\nth div {\n  cursor: col-resize;\n  display: inline-block;\n  width: 100%;\n}\n\nform {\n  margin-top: 20px;\n}\n\nform div {\n  margin-bottom: 10px;\n}\n\nform label {\n  display: inline-block;\n  width: 100px;\n  text-align: right;\n  margin-right: 10px;\n}\n\nform input {\n  padding: 5px;\n  width: 200px;\n}\n\nbutton {\n  padding: 10px 20px;\n  background-color: #42b983;\n  color: white;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n}\n\nbutton:hover {\n  background-color: #369f77;\n}\n</style>\n"],"mappings":"AAgDA,OAAOA,KAAI,MAAO,OAAO;AACzB,SAASC,QAAQ,EAAEC,GAAG,EAAEC,SAAS,EAAEC,eAAc,QAAS,KAAK;AAE/D,eAAe;EACbC,IAAI,EAAE,MAAM;EACZC,KAAKA,CAAA,EAAG;IACN,MAAMC,OAAM,GAAIN,QAAQ,CAAC,CACvB;MAAEI,IAAI,EAAE,YAAY;MAAEG,KAAK,EAAE;IAAI,CAAC,EAClC;MAAEH,IAAI,EAAE,aAAa;MAAEG,KAAK,EAAE;IAAI,CAAC,EACnC;MAAEH,IAAI,EAAE,WAAW;MAAEG,KAAK,EAAE;IAAI,CAAC,EACjC;MAAEH,IAAI,EAAE,SAAS;MAAEG,KAAK,EAAE;IAAI,CAAC,EAC/B;MAAEH,IAAI,EAAE,yBAAyB;MAAEG,KAAK,EAAE;IAAI,CAAC,CAChD,CAAC;IAEF,MAAMC,IAAG,GAAIP,GAAG,CAAC,EAAE,CAAC;IACpB,MAAMQ,MAAK,GAAIT,QAAQ,CAAC;MACtBU,KAAK,EAAE,EAAE;MACTC,KAAK,EAAE,EAAE;MACTC,KAAK,EAAE,CAAC;MACRC,QAAQ,EAAE;IACZ,CAAC,CAAC;IAEF,MAAMC,SAAQ,GAAI,MAAAA,CAAA,KAAY;MAC5B,IAAI;QACF,MAAMC,QAAO,GAAI,MAAMhB,KAAK,CAACiB,GAAG,CAAC,gCAAgC,CAAC;QAClER,IAAI,CAACS,KAAI,GAAIF,QAAQ,CAACG,IAAI;MAC5B,EAAE,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,2CAA2C,EAAEA,KAAK,CAAC;MACnE;IACF,CAAC;IAED,MAAME,MAAK,GAAI,MAAAA,CAAA,KAAY;MACzB,IAAI;QACF,MAAMN,QAAO,GAAI,MAAMhB,KAAK,CAACuB,IAAI,CAAC,gCAAgC,EAAEb,MAAM,CAAC;QAC3EW,OAAO,CAACG,GAAG,CAACR,QAAQ,CAACG,IAAI,CAACM,OAAO,CAAC;QAClC,MAAMV,SAAS,CAAC,CAAC,EAAE;QACnBW,MAAM,CAACC,IAAI,CAACjB,MAAM,CAAC,CAACkB,OAAO,CAACC,GAAE,IAAKnB,MAAM,CAACmB,GAAG,IAAI,EAAE,CAAC,EAAE;MACxD,EAAE,OAAOT,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;MACxD;IACF,CAAC;IAED,IAAIU,mBAAkB,GAAI,IAAI;IAC9B,IAAIC,MAAK,GAAI,CAAC;IACd,IAAIC,UAAS,GAAI,CAAC;IAElB,MAAMC,WAAU,GAAIA,CAACC,KAAK,EAAEC,KAAK,KAAK;MACpCL,mBAAkB,GAAII,KAAK;MAC3BH,MAAK,GAAII,KAAK,CAACC,KAAK;MACpBJ,UAAS,GAAIzB,OAAO,CAAC2B,KAAK,CAAC,CAAC1B,KAAK;MACjC6B,QAAQ,CAACC,gBAAgB,CAAC,WAAW,EAAEC,YAAY,CAAC;MACpDF,QAAQ,CAACC,gBAAgB,CAAC,SAAS,EAAEE,UAAU,CAAC;IAClD,CAAC;IAED,MAAMD,YAAW,GAAKJ,KAAK,IAAK;MAC9B,IAAIL,mBAAkB,KAAM,IAAI,EAAE;QAChC,MAAMW,QAAO,GAAIT,UAAS,IAAKG,KAAK,CAACC,KAAI,GAAIL,MAAM,CAAC;QACpDxB,OAAO,CAACuB,mBAAmB,CAAC,CAACtB,KAAI,GAAIiC,QAAO,GAAI,EAAC,GAAIA,QAAO,GAAI,EAAE,EAAE;MACtE;IACF,CAAC;IAED,MAAMD,UAAS,GAAIA,CAAA,KAAM;MACvBH,QAAQ,CAACK,mBAAmB,CAAC,WAAW,EAAEH,YAAY,CAAC;MACvDF,QAAQ,CAACK,mBAAmB,CAAC,SAAS,EAAEF,UAAU,CAAC;MACnDV,mBAAkB,GAAI,IAAI;IAC5B,CAAC;IAED3B,SAAS,CAAC,MAAM;MACdY,SAAS,CAAC,CAAC;MACXsB,QAAQ,CAACC,gBAAgB,CAAC,SAAS,EAAEE,UAAU,CAAC;IAClD,CAAC,CAAC;IAEFpC,eAAe,CAAC,MAAM;MACpBiC,QAAQ,CAACK,mBAAmB,CAAC,SAAS,EAAEF,UAAU,CAAC;IACrD,CAAC,CAAC;IAEF,OAAO;MACLjC,OAAO;MACPE,IAAI;MACJC,MAAM;MACNY,MAAM;MACNW;IACF,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}