{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-55490d6c\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"stores\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"Магазины\", -1 /* HOISTED */));\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\"\n}, \"Добавить магазин\", -1 /* HOISTED */));\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Привязать автомобиль к магазину\", -1 /* HOISTED */));\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\"\n}, \"Привязать автомобиль\", -1 /* HOISTED */));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.stores, store => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: store.id\n    }, _toDisplayString(store.name) + \" - \" + _toDisplayString(store.phone), 1 /* TEXT */);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"form\", {\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => $setup.addStore && $setup.addStore(...args), [\"prevent\"]))\n  }, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.newStoreName = $event),\n    placeholder: \"Название магазина\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.newStoreName]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.newStorePhone = $event),\n    placeholder: \"Телефон магазина\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.newStorePhone]]), _hoisted_3], 32 /* NEED_HYDRATION */), _hoisted_4, _createElementVNode(\"form\", {\n    onSubmit: _cache[5] || (_cache[5] = _withModifiers((...args) => $setup.attachCarToStore && $setup.attachCarToStore(...args), [\"prevent\"]))\n  }, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.carId = $event),\n    placeholder: \"ID автомобиля\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.carId]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.storeId = $event),\n    placeholder: \"ID магазина\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.storeId]]), _hoisted_5], 32 /* NEED_HYDRATION */)]);\n}","map":{"version":3,"names":["class","_createElementVNode","type","_createElementBlock","_hoisted_1","_hoisted_2","_Fragment","_renderList","$setup","stores","store","key","id","name","_toDisplayString","phone","onSubmit","_cache","_withModifiers","args","addStore","$event","newStoreName","placeholder","required","newStorePhone","_hoisted_3","_hoisted_4","attachCarToStore","carId","storeId","_hoisted_5"],"sources":["/Users/zeus_olimp/WORK/project-root/frontend/src/views/Stores.vue"],"sourcesContent":["<template>\n  <div class=\"stores\">\n    <h1>Магазины</h1>\n    <ul>\n      <li v-for=\"store in stores\" :key=\"store.id\">\n        {{ store.name }} - {{ store.phone }}\n      </li>\n    </ul>\n    <form @submit.prevent=\"addStore\">\n      <input v-model=\"newStoreName\" placeholder=\"Название магазина\" required />\n      <input v-model=\"newStorePhone\" placeholder=\"Телефон магазина\" required />\n      <button type=\"submit\">Добавить магазин</button>\n    </form>\n\n    <h2>Привязать автомобиль к магазину</h2>\n    <form @submit.prevent=\"attachCarToStore\">\n      <input v-model=\"carId\" placeholder=\"ID автомобиля\" required />\n      <input v-model=\"storeId\" placeholder=\"ID магазина\" required />\n      <button type=\"submit\">Привязать автомобиль</button>\n    </form>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport { ref } from 'vue';\n\nexport default {\n  name: 'Stores',\n  setup() {\n    const stores = ref([]);\n    const newStoreName = ref('');\n    const newStorePhone = ref('');\n    const carId = ref('');\n    const storeId = ref('');\n\n    const fetchStores = async () => {\n      try {\n        const response = await axios.get('/api/stores');\n        stores.value = response.data;\n      } catch (error) {\n        console.error('Не удалось получить данные о магазинах', error);\n      }\n    };\n\n    const addStore = async () => {\n      try {\n        const response = await axios.post('/api/stores', {\n          name: newStoreName.value,\n          phone: newStorePhone.value,\n        });\n        stores.value.push(response.data);\n        newStoreName.value = '';\n        newStorePhone.value = '';\n      } catch (error) {\n        console.error('Не удалось добавить магазин', error);\n      }\n    };\n\n    const attachCarToStore = async () => {\n      try {\n        await axios.post('/api/stores/attach-car', {\n          carId: carId.value,\n          storeId: storeId.value,\n        });\n        carId.value = '';\n        storeId.value = '';\n      } catch (error) {\n        console.error('Не удалось привязать автомобиль к магазину', error);\n      }\n    };\n\n    fetchStores();\n\n    return {\n      stores,\n      newStoreName,\n      newStorePhone,\n      carId,\n      storeId,\n      addStore,\n      attachCarToStore,\n    };\n  },\n};\n</script>\n\n<style scoped>\n.stores {\n  padding: 20px;\n}\n</style>\n"],"mappings":";;;EACOA,KAAK,EAAC;AAAQ;gEACjBC,mBAAA,CAAiB,YAAb,UAAQ;gEASVA,mBAAA,CAA+C;EAAvCC,IAAI,EAAC;AAAQ,GAAC,kBAAgB;gEAGxCD,mBAAA,CAAwC,YAApC,iCAA+B;gEAIjCA,mBAAA,CAAmD;EAA3CC,IAAI,EAAC;AAAQ,GAAC,sBAAoB;;uBAjB9CC,mBAAA,CAmBM,OAnBNC,UAmBM,GAlBJC,UAAiB,EACjBJ,mBAAA,CAIK,c,kBAHHE,mBAAA,CAEKG,SAAA,QANXC,WAAA,CAI0BC,MAAA,CAAAC,MAAM,EAAfC,KAAK;yBAAhBP,mBAAA,CAEK;MAFwBQ,GAAG,EAAED,KAAK,CAACE;wBACnCF,KAAK,CAACG,IAAI,IAAG,KAAG,GAAAC,gBAAA,CAAGJ,KAAK,CAACK,KAAK;oCAGrCd,mBAAA,CAIO;IAJAe,QAAM,EAAAC,MAAA,QAAAA,MAAA,MARjBC,cAAA,KAAAC,IAAA,KAQ2BX,MAAA,CAAAY,QAAA,IAAAZ,MAAA,CAAAY,QAAA,IAAAD,IAAA,CAAQ;sBAC7BlB,mBAAA,CAAyE;IAT/E,uBAAAgB,MAAA,QAAAA,MAAA,MAAAI,MAAA,IASsBb,MAAA,CAAAc,YAAY,GAAAD,MAAA;IAAEE,WAAW,EAAC,mBAAmB;IAACC,QAAQ,EAAR;iDAA9ChB,MAAA,CAAAc,YAAY,E,mBAC5BrB,mBAAA,CAAyE;IAV/E,uBAAAgB,MAAA,QAAAA,MAAA,MAAAI,MAAA,IAUsBb,MAAA,CAAAiB,aAAa,GAAAJ,MAAA;IAAEE,WAAW,EAAC,kBAAkB;IAACC,QAAQ,EAAR;iDAA9ChB,MAAA,CAAAiB,aAAa,E,GAC7BC,UAA+C,C,4BAGjDC,UAAwC,EACxC1B,mBAAA,CAIO;IAJAe,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAfjBC,cAAA,KAAAC,IAAA,KAe2BX,MAAA,CAAAoB,gBAAA,IAAApB,MAAA,CAAAoB,gBAAA,IAAAT,IAAA,CAAgB;sBACrClB,mBAAA,CAA8D;IAhBpE,uBAAAgB,MAAA,QAAAA,MAAA,MAAAI,MAAA,IAgBsBb,MAAA,CAAAqB,KAAK,GAAAR,MAAA;IAAEE,WAAW,EAAC,eAAe;IAACC,QAAQ,EAAR;iDAAnChB,MAAA,CAAAqB,KAAK,E,mBACrB5B,mBAAA,CAA8D;IAjBpE,uBAAAgB,MAAA,QAAAA,MAAA,MAAAI,MAAA,IAiBsBb,MAAA,CAAAsB,OAAO,GAAAT,MAAA;IAAEE,WAAW,EAAC,aAAa;IAACC,QAAQ,EAAR;iDAAnChB,MAAA,CAAAsB,OAAO,E,GACvBC,UAAmD,C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}