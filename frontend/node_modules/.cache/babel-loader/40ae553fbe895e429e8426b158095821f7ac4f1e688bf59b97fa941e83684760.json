{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-c044f24e\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"glass-container\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"Car Brands\", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"glassmorphism\"\n};\nconst _hoisted_4 = [\"onMousedown\"];\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Add a New Car\", -1 /* HOISTED */));\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"brand\"\n}, \"Brand:\", -1 /* HOISTED */));\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"model\"\n}, \"Model:\", -1 /* HOISTED */));\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"price\"\n}, \"Price:\", -1 /* HOISTED */));\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"store\"\n}, \"Store ID:\", -1 /* HOISTED */));\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\"\n}, \"Add Car\", -1 /* HOISTED */));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"table\", _hoisted_3, [_createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.columns, (column, index) => {\n    return _openBlock(), _createElementBlock(\"th\", {\n      key: index,\n      style: _normalizeStyle({\n        width: column.width + 'px'\n      })\n    }, [_createElementVNode(\"div\", {\n      onMousedown: $event => $setup.startResize(index, $event)\n    }, _toDisplayString(column.name), 41 /* TEXT, PROPS, NEED_HYDRATION */, _hoisted_4)], 4 /* STYLE */);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.cars, (car, index) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: index\n    }, [_createElementVNode(\"td\", null, _toDisplayString(car.brand), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(car.model), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(car.price), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(car.store), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(car.phone), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _hoisted_5, _createElementVNode(\"form\", {\n    onSubmit: _cache[4] || (_cache[4] = _withModifiers((...args) => $setup.addCar && $setup.addCar(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", null, [_hoisted_6, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"brand\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.newCar.brand = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.newCar.brand]])]), _createElementVNode(\"div\", null, [_hoisted_7, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"model\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.newCar.model = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.newCar.model]])]), _createElementVNode(\"div\", null, [_hoisted_8, _withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    id: \"price\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.newCar.price = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.newCar.price]])]), _createElementVNode(\"div\", null, [_hoisted_9, _withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    id: \"store\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.newCar.store_id = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.newCar.store_id]])]), _hoisted_10], 32 /* NEED_HYDRATION */)]);\n}","map":{"version":3,"names":["class","_createElementVNode","for","type","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_Fragment","_renderList","$setup","columns","column","index","key","style","_normalizeStyle","width","onMousedown","$event","startResize","name","_hoisted_4","cars","car","_toDisplayString","brand","model","price","store","phone","_hoisted_5","onSubmit","_cache","_withModifiers","args","addCar","_hoisted_6","id","newCar","required","_hoisted_7","_hoisted_8","_hoisted_9","store_id","_hoisted_10"],"sources":["/Users/zeus_olimp/WORK/project-root/frontend/src/views/Cars.vue"],"sourcesContent":["<template>\n  <div class=\"glass-container\">\n    <h1>Car Brands</h1>\n    <table class=\"glassmorphism\">\n      <thead>\n      <tr>\n        <th v-for=\"(column, index) in columns\" :key=\"index\" :style=\"{ width: column.width + 'px' }\">\n          <div @mousedown=\"startResize(index, $event)\">\n            {{ column.name }}\n          </div>\n        </th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr v-for=\"(car, index) in cars\" :key=\"index\">\n        <td>{{ car.brand }}</td>\n        <td>{{ car.model }}</td>\n        <td>{{ car.price }}</td>\n        <td>{{ car.store }}</td>\n        <td>{{ car.phone }}</td>\n      </tr>\n      </tbody>\n    </table>\n\n    <h2>Add a New Car</h2>\n    <form @submit.prevent=\"addCar\">\n      <div>\n        <label for=\"brand\">Brand:</label>\n        <input type=\"text\" id=\"brand\" v-model=\"newCar.brand\" required>\n      </div>\n      <div>\n        <label for=\"model\">Model:</label>\n        <input type=\"text\" id=\"model\" v-model=\"newCar.model\" required>\n      </div>\n      <div>\n        <label for=\"price\">Price:</label>\n        <input type=\"number\" id=\"price\" v-model=\"newCar.price\" required>\n      </div>\n      <div>\n        <label for=\"store\">Store ID:</label>\n        <input type=\"number\" id=\"store\" v-model=\"newCar.store_id\" required>\n      </div>\n      <button type=\"submit\">Add Car</button>\n    </form>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport { reactive, ref, onMounted, onBeforeUnmount } from 'vue';\n\nexport default {\n  name: 'Cars',\n  setup() {\n    const columns = reactive([\n      { name: 'Марка авто', width: 150 },\n      { name: 'Модель авто', width: 150 },\n      { name: 'Стоимость', width: 100 },\n      { name: 'Магазин', width: 150 },\n      { name: 'Номер телефона магазина', width: 200 },\n    ]);\n\n    const cars = ref([]);\n    const newCar = reactive({\n      brand: '',\n      model: '',\n      price: 0,\n      store_id: 0,\n    });\n\n    const fetchCars = async () => {\n      try {\n        const response = await axios.get('http://localhost:8085/api/cars');\n        cars.value = response.data;\n      } catch (error) {\n        console.error('Не удалось получить данные об автомобилях', error);\n      }\n    };\n\n    const addCar = async () => {\n      try {\n        const response = await axios.post('http://localhost:8080/api/cars', newCar);\n        console.log(response.data.message);\n        await fetchCars(); // обновите список автомобилей после добавления нового\n        Object.keys(newCar).forEach(key => newCar[key] = ''); // очистите форму\n      } catch (error) {\n        console.error('Не удалось добавить автомобиль', error);\n      }\n    };\n\n    let resizingColumnIndex = null;\n    let startX = 0;\n    let startWidth = 0;\n\n    const startResize = (index, event) => {\n      resizingColumnIndex = index;\n      startX = event.pageX;\n      startWidth = columns[index].width;\n      document.addEventListener('mousemove', resizeColumn);\n      document.addEventListener('mouseup', stopResize);\n    };\n\n    const resizeColumn = (event) => {\n      if (resizingColumnIndex !== null) {\n        const newWidth = startWidth + (event.pageX - startX);\n        columns[resizingColumnIndex].width = newWidth > 50 ? newWidth : 50; // Минимальная ширина 50px\n      }\n    };\n\n    const stopResize = () => {\n      document.removeEventListener('mousemove', resizeColumn);\n      document.removeEventListener('mouseup', stopResize);\n      resizingColumnIndex = null;\n    };\n\n    onMounted(() => {\n      fetchCars();\n      document.addEventListener('mouseup', stopResize);\n    });\n\n    onBeforeUnmount(() => {\n      document.removeEventListener('mouseup', stopResize);\n    });\n\n    return {\n      columns,\n      cars,\n      newCar,\n      addCar,\n      startResize,\n    };\n  },\n};\n</script>\n\n<style scoped>\n.glass-container {\n  margin: 10px;\n  background: rgba(210, 217, 217, 0.6);\n  border-radius: 10px;\n  padding: 20px;\n  backdrop-filter: blur(10px);\n  box-shadow: 0 4px 6px rgb(100, 96, 96);\n  border: 1px solid rgba(255, 255, 255, 0.3);\n}\n\ntable {\n  width: 100%;\n  border-collapse: collapse;\n  border-radius: 2%;\n}\n\nth, td {\n  border: 1px solid rgba(0, 0, 0, 0.43);\n  padding: 8px;\n  text-align: left;\n}\n\nth div {\n  cursor: col-resize;\n  display: inline-block;\n  width: 100%;\n}\n\nform {\n  margin-top: 20px;\n}\n\nform div {\n  margin-bottom: 10px;\n}\n\nform label {\n  display: inline-block;\n  width: 100px;\n  text-align: right;\n  margin-right: 10px;\n}\n\nform input {\n  padding: 5px;\n  width: 200px;\n}\n\nbutton {\n  padding: 10px 20px;\n  background-color: #42b983;\n  color: white;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n}\n\nbutton:hover {\n  background-color: #369f77;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}